<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hare Apparent Offspring Rabbit Calculator ü™Ñ</title>

<link href="https://fonts.googleapis.com/css2?family=Cardo:wght@400;700&family=Uncial+Antiqua&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  padding: 0;
  font-family: "Cardo", serif;
  background: radial-gradient(circle at 40% 20%, #eaf5ff 0%, #b7d8f2 35%, #fbe49c 90%);
  color: #1b1d25;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 40px 0;
}

.card {
  position: relative;
  background: linear-gradient(180deg, rgba(255,255,255,0.97), rgba(247,245,236,0.98));
  border: 4px solid #d8b552;
  border-radius: 20px;
  box-shadow: 0 0 25px rgba(27,102,170,0.45), inset 0 0 12px rgba(255,255,255,0.4);
  width: 680px;
  padding: 35px 40px 45px;
  text-align: center;
}

h1 {
  font-family: "Uncial Antiqua", serif;
  color: #124e88;
  text-shadow: 0 0 8px rgba(28,105,175,0.5);
  margin: 10px 0 6px;
  font-size: 2.1em;
}

.subtitle {
  font-style: italic;
  font-size: 1.05em;
  color: #725a2e;
  margin-bottom: 20px;
}

.card-art-top {
  display: block;
  margin: 0 auto 10px;
  width: 110px;
  border-radius: 10px;
  border: 2px solid #d8b552;
  box-shadow: 0 0 12px rgba(28,105,175,0.4);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card-art-top:hover {
  transform: scale(1.05);
  box-shadow: 0 0 18px rgba(255,221,130,0.8);
}

.slider-group {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin: 14px auto;
}

label {
  width: 230px;
  text-align: right;
  font-weight: 700;
  color: #2a1e13;
}

input[type="range"] {
  width: 160px;
  accent-color: #2f80ed;
}

input[type="number"] {
  width: 70px;
  padding: 4px;
  font-size: 1em;
  border-radius: 6px;
  border: 2px solid #d8b552;
  text-align: center;
  background: #fffdf8;
  color: #1b1d25;
}

input[type="number"]:focus {
  outline: none;
  border-color: #4596e6;
  box-shadow: 0 0 8px rgba(69,150,230,0.6);
}

#result {
  font-size: 1.7em;
  margin-top: 26px;
  font-weight: bold;
  color: #0f4174;
  text-shadow: 0 0 6px rgba(67,132,185,0.4);
}

.explanation {
  font-size: 0.95em;
  color: #2a1e13;
  margin-top: 30px;
  line-height: 1.6em;
  text-align: left;
  background: rgba(255,255,255,0.75);
  border-radius: 10px;
  padding: 12px 14px;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.08);
}

.explanation strong {
  color: #124e88;
}

#formula-block {
  margin-top: 22px;
  text-align: center;
}

mjx-container {
  color: #0f4174;
  text-shadow: 0 0 10px rgba(27,102,170,0.3);
  font-size: 1.05em;
  animation: formulaFade 1.5s ease-in-out;
}

@keyframes formulaFade {
  0% { opacity: 0; filter: blur(3px); }
  100% { opacity: 1; filter: blur(0); }
}

.formula-label {
  text-align: center;
  font-family: "Uncial Antiqua", serif;
  color: #c79838;
  text-shadow: 0 0 8px rgba(200,150,56,0.5);
  margin-top: 20px;
  margin-bottom: 4px;
  font-size: 1.1em;
  letter-spacing: 0.03em;
}

.art-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 8px;
  margin-top: 25px;
}

.art-row img {
  width: 49%;
  border-radius: 12px;
  border: 2px solid #d8b552;
  box-shadow: 0 0 14px rgba(28,105,175,0.4);
  transition: 0.2s;
}

.art-row img:hover {
  transform: scale(1.03);
  box-shadow: 0 0 20px rgba(255,221,130,0.8);
}

footer {
  margin-top: 22px;
  font-size: 0.9em;
  color: #5b4321;
  font-style: italic;
  text-align: center;
  max-width: 90%;
  margin-left: auto;
  margin-right: auto;
}
</style>
</head>

<body>
  <div class="card">

    <h1>Hare Apparent Offspring Rabbit Calculator</h1>
    <p class="subtitle">So you cast a <strong>Hare Apparent</strong> paying its <em>Offspring</em> cost...</p>

    <div class="slider-group">
      <label for="H">üêá Existing Hare Copies (H):</label>
      <input id="H" type="range" min="0" max="20" value="2" oninput="syncInputs('H')">
      <input id="Hnum" type="number" value="2" oninput="syncSliders('H')" max="20" min="0">
    </div>

    <div class="slider-group">
      <label for="T">‚ú® Token Doubler Power (T):</label>
      <input id="T" type="range" min="0" max="10" value="1" oninput="syncInputs('T')">
      <input id="Tnum" type="number" value="1" oninput="syncSliders('T')" max="10" min="0">
    </div>

    <div class="slider-group">
      <label for="A">üîÅ Additional Trigger Count (A):</label>
      <input id="A" type="range" min="0" max="10" value="1" oninput="syncInputs('A')">
      <input id="Anum" type="number" value="1" oninput="syncSliders('A')" max="10" min="0">
    </div>

    <div id="result">Rabbits created: ‚Äî</div>
    <img src="./Rabbit.jpg" alt="Rabbit Token" class="card-art-top">

    <div class="explanation">
      <p><strong>H</strong> ‚Äî Number of other <em>Hare Apparents</em> already on the battlefield.</p>
      <p><strong>T</strong> ‚Äî How many Token Doublers you have
      <p><strong>A</strong> ‚Äî How many "Triggered abilities of X trigger an additional time" cards you have on the battlefield</p>
      <p>The result shows how many 1/1 Rabbit tokens spring into existence when your newest Hare resolves.</p>

      <div class="formula-label">Mathematical Formula</div>
      <div id="formula-block">
        $$
        X(H,T,A)=\Biggl\lbrace
          \Biggl(
            \sum_{n=1}^{A+1}
            \left(2^{T}\right)^{2}\cdot
            \bigl(H+2^{T}n\bigr)\cdot(A+1)
          \Biggr)
          +
          \Bigl(
            2^{T}\cdot
            \bigl(H+2^{T}(A+1)\bigr)\cdot(A+1)
          \Bigr)
        \Biggr\rbrace
        $$
      </div>
    </div>

    <div class="art-row">
      <img src="./zinnia.jpg" alt="Zinnia, Valley's Voice">
      <img src="./Hare.jpg" alt="Hare Apparent">
    </div>

    <footer>‚ÄúWhy you getting mad at my 4 vampires ‚Äî you're about to make like 30 rabbits?‚Äù ‚Äî Cody Rich, right before he saw 300 rabbits</footer>
  </div>

<script>
function X(H, T, A) {
  let term1 = 0;
  for (let n = 1; n <= A + 1; n++) {
    term1 += (2 ** T) ** 2 * (H + 2 ** T * n) * (A + 1);
  }
  let term2 = (2 ** T) * (H + 2 ** T * (A + 1)) * (A + 1);
  return term1 + term2;
}

function syncInputs(id) {
  const slider = document.getElementById(id);
  const numBox = document.getElementById(id + 'num');
  numBox.value = slider.value;
  update();
}

function syncSliders(id) {
  const slider = document.getElementById(id);
  const numBox = document.getElementById(id + 'num');
  let val = parseFloat(numBox.value);
  if (val > parseFloat(slider.max)) val = parseFloat(slider.max);
  if (val < parseFloat(slider.min)) val = parseFloat(slider.min);
  numBox.value = val;
  slider.value = val;
  update();
}

function update() {
  const H = parseFloat(document.getElementById('H').value);
  const T = parseFloat(document.getElementById('T').value);
  const A = parseFloat(document.getElementById('A').value);
  const result = X(H, T, A);
  document.getElementById('result').textContent = `Rabbits created: ${result.toLocaleString()}`;
}
update();
</script>

<!-- MathJax -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true
  },
  svg: { fontCache: 'global' }
};
</script>
<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

</body>
</html>
